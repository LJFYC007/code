设$n=n'p^k$其中$p$为$n$最小的质因数，且$\gcd(p,n')=1$

设$g(x)$表示$x$的因数个数，则：
$$
\begin{align}
g(1)=&1\\
g(n)=&g(n')(1+k)
\end{align}
$$
（易证）

然后就可以知道：
$$
f(n)=(k+1)f(n')+kg(n')
$$
（易证）

