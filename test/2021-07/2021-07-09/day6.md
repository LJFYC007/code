# NOI模拟赛

*hysbz*

**2021年7月3日**

| 题目名称       | 一般图带权多重匹配 | 排序     | 传染       |
| -------------- | ------------------ | -------- | ---------- |
| 题目类型       | 传统题             | 传统题   | 传统题     |
| 目录           | match              | sort     | infect     |
| 可执行文件名   | match              | sort     | infect     |
| 输入文件名     | match.in           | sort.in  | infect.in  |
| 输出文件名     | match.out          | sort.out | infect.out |
| 每个测试点时限 | 1s                 | 3s       | 3s         |
| 内存限制       | 512Mb              | 1024Mb   | 512Mb      |

1. 文件名（包括程序名和输入输出文件名）必须使用英文小写。

2. 结果比较方式为忽略行末空格、文末回车后的全文比较。

3. C/C++ 中函数 main() 的返回值类型必须是 int，值为 0。

4. 编译选项为-O2 -std=c++11

5. 如果对题目有疑问（如样例出锅），可以找出题人。

6. AK 或发现原题不要声张，不要打扰其它人做题。

7. **考试时间** **8:00** **至** **13:00**





## 一般图带权多重匹配

*1s|512Mb​*

给n个数$\{a_i\}$, 其中k个$a_i$ 是奇数 ,再给你一个$n\times n$ 的矩阵$\{c_{i,j}\}$,无论是$a$还是$c$ ,都保证是非负整数。现在你可以做一类操作：

+ 将$a_i$ 减一，$a_j$ 减一, 花费$c_{i,j}$ 的代价。$i，j$可以相同 ,相当于$a_i$ 减2.

现在要求把$\{a_i\}$ 全部变成0，问花费最少的代价是多少,无解输出`-1`.

### 输入格式

第一行给一个$n$， 第二行n个$\{a_i\}$。

接下来n行，每行n个数，表示$\{c_{i,j}\}$，保证$\{c_{i,j}=c_{j,i}\}$

### 输出格式

一个数，表示最小代价。

### 样例输入 # 1

```
3
2 2 2
1 4 3
4 4 5
3 5 6
```

### 样例输出 # 1

```
10
```
### 样例输入 # 2

```
2
2 39
23 9
9 23
```

### 样例输出 # 2

```
-1
```

### 样例输入 # 3

```
1
2
100
```

### 样例输出 # 3

```
100
```

### 提示

第一个样例选择了${c_{1,3},c_{1,3},c_{2,2}}$

|      | 限制条件，k是指a[i]为奇数的数量                              | 分值 |
| ---- | ------------------------------------------------------------ | ---- |
| 1    | $n \leq 5,0\leq a[i] \leq 10,k \leq 5$                       | 10   |
| 2    | $n\leq 14,0\leq a[i]\leq 1,k\leq 10$                         | 15   |
| 3    | $n \leq 50，k\leq 8$, 如果$(i\&1)!=(j\&1)$,那么$c[i][j]<=10$否则$c[i][j]=100000$ | 25   |
| 4    | $n\leq 50,k \leq 8$                                          | 50   |

 保证$c_{i,j} \leq 100000,a_i \leq 100$



## 排序

*3s|1024Mb*

给一棵树，1号点为根，有$n$个节点（n>=2）。每一个叶子节点有若干的权值可以选择（只能选一个），每一个父亲节点的权值序列都是儿子节点的权值以任意顺序连接而成（父亲可以有多个权值）。每个父亲不超过K个儿子。连接操作如下：

+ 比如一个儿子是[1，3]，一个儿子是[2，4，10]，那么父亲要么是[1，3，2，4，10]，要么是[2，4，10，1，3]。

现在，想让1号点的权值序列是一个上升序列，请问是否可行，可行请输出Yes，否则请输出No. 如果输出Yes，请输出对应的方案。

### 输入格式

第一行给一个$n$。 

接下$n$行 ,每行描述一个节点。

+ 如果第一个数是1，表示这个点不是叶子节点，那么后面接一个$k_i$ ，表示有$k_i $ 个儿子，后面接$k_i$ 个整数描述这$k_i$个儿子。
+ 如果第一个数是2，表示这个点是叶子节点，那么后面接一个$m_i$,  表示有$m_i$ 个可以选择的权值(所有的权值互不相同).后面接$ m_i$ 个整数描述这$ m_i$个权值。$(1 \leq 权值 \leq 100000)$
+ 1号点保证是根。

### 输出格式

第一行一个Yes或者No。表示是否可行。

如果是Yes，接下来$n$ 行，每一行，描述一个节点。

+ 对于叶子节点，输出一个值，表示叶子选择的值。
+ 对于非叶子节点，输出是按照什么顺序对儿子进行合并的。

### 样例输入 # 1

```
6
1 3 5 4 6
2 3 10 61 60
2 2 80 20
2 2 40 70
1 2 3 2
2 4 30 90 91 92
```

### 样例输出 # 1

```
Yes
5 6 4
10
20
40
2 3
30
```
### 样例输入 # 2

```
5
1 2 2 3
2 1 2
1 2 4 5
2 1 1
2 1 3
```

### 样例输出 # 2

```
No
```

### 提示

第一个样例

![image-20210707214707672](C:\Users\liaoj\AppData\Roaming\Typora\typora-user-images\image-20210707214707672.png)

2，3号节点选择了10，20。

5号点[10，20]，4号点选了40，6号点选了30.

1号点按5，6，4的顺序合并[10，20，30，40]。

|      | 分值 | $n,\sum m_i$             | K         |
| ---- | ---- | ------------------------ | --------- |
| 1    | 10   | $n,\sum m_i \leq 10$     | $K\leq 2$ |
| 2    | 4    | $n,\sum m_i \leq 20$     | $K\leq 8$ |
| 3    | 3    | $n,\sum m_i \leq 100$    | $K\leq 2$ |
| 4    | 3    | $n,\sum m_i \leq 100$    | $K\leq 5$ |
| 5    | 3    | $n,\sum m_i \leq 100$    | $K\leq 8$ |
| 6    | 3    | $n,\sum m_i \leq 500$    | $K\leq 2$ |
| 7    | 3    | $n,\sum m_i \leq 500$    | $K\leq 5$ |
| 8    | 3    | $n,\sum m_i \leq 500$    | $K\leq 8$ |
| 9    | 3    | $n,\sum m_i \leq 2000$   | $K\leq 2$ |
| 10   | 6    | $n,\sum m_i \leq 2000$   | $K\leq 5$ |
| 11   | 6    | $n,\sum m_i \leq 2000$   | $K\leq 8$ |
| 12   | 13   | $n,\sum m_i \leq 100000$ | $K\leq 2$ |
| 13   | 18   | $n,\sum m_i \leq 100000$ | $K\leq 5$ |
| 14   | 22   | $n,\sum m_i \leq 100000$ | $K\leq 8$ |







## 传染

``512 Mb | 3s``

I国有$n$个城市，有$n-1$ 条道路连接，并且所有的城市相互可达。城市因为自身的交通因素，人口因素，有一个传染力 $r_i$，一旦这个城市爆发疫情，会迅速感染其他距离小于等于$r_i$的其他城市，并且造成连锁反应。问一开始最少几个受到境外输入，会导致整个国家n个城市全部被感染。

### 输入格式

​		第一行一个$n$，第二行$n$个$r_i$。$0 \leq r_i \leq 10^9$

​		接下来$n-1$行，每个三个数$a_i,b_i,d_i $，表示$a_i$到$b_i$的有条距离为$d_i $的道路。$0 \leq d_i \leq 10^9$

### 输出格式

​		最少几个城市受到境外输入。

### 输入数据

```10
10
1 2 2 2 6 3 4 5 4 3
1 2 5
2 3 1
2 4 5
4 5 2
4 6 4
4 7 3
1 8 1
8 9 5
8 10 4
```

### 输出数据

```
3
```



### 数据范围

|      | 分数 | $n$的限制              |
| ---- | ---- | ---------------------- |
| 1    | 10   | $1 \leq n \leq 15$     |
| 2    | 11   | $1 \leq n \leq 100$    |
| 3    | 12   | $1 \leq n \leq 3000$   |
| 4    | 22   | $1 \leq n \leq 100000$ |
| 5    | 45   | $1 \leq n \leq 300000$ |
